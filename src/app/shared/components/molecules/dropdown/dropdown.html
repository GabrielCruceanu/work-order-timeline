<div class="form-field">
  @if (label()) {
    <label class="form-field__label" [for]="id()">
      {{ label() }}
    </label>
  }
  <ng-select
    [id]="id()"
    [items]="items()"
    [bindLabel]="bindLabel()"
    [bindValue]="bindValue()"
    [formControl]="control"
    [clearable]="clearable()"
    [searchable]="searchable()"
    [disabled]="disabled()"
    class="custom-ng-select"
    [class.custom-ng-select--error]="hasError()"
  >
    @if (labelTemplate()) {
      <ng-template ng-label-tmp let-item="item">
        <ng-container
          *ngTemplateOutlet="labelTemplate()!; context: { $implicit: item }"
        ></ng-container>
      </ng-template>
    }
    @if (optionTemplate()) {
      <ng-template ng-option-tmp let-item="item">
        <ng-container
          *ngTemplateOutlet="optionTemplate()!; context: { $implicit: item }"
        ></ng-container>
      </ng-template>
    }
  </ng-select>
  @if (displayError()) {
    <span class="form-field__error">{{ displayError() }}</span>
  }
</div>
