<div
  class="work-order-bar"
  [class.work-order-bar--hovered]="isHovered()"
  [style.left.px]="barPosition().left"
  [style.width.px]="barPosition().width"
  [style.background]="barStyles().background"
  [style.border]="barStyles().border"
  (mouseenter)="isHovered.set(true)"
  (mouseleave)="isHovered.set(false)"
  (click)="onBarClick($event)"
>
  <span class="work-order-bar__name">{{ workOrder().data.name }}</span>

  <app-status-badge [status]="workOrder().data.status" />

  @if (isHovered()) {
    <button
      class="work-order-bar__menu-button"
      (click)="toggleMenu(); $event.stopPropagation()"
      type="button"
      aria-label="Open menu"
    >
      â‹®
    </button>
  }

  @if (isMenuOpen()) {
    <div class="work-order-bar__menu" (click)="$event.stopPropagation()">
      <button
        class="work-order-bar__menu-option work-order-bar__menu-option--edit"
        (click)="onEdit()"
        type="button"
      >
        <span class="work-order-bar__menu-icon">âœï¸</span>
        <span>Edit</span>
      </button>
      <button
        class="work-order-bar__menu-option work-order-bar__menu-option--delete"
        (click)="onDelete()"
        type="button"
      >
        <span class="work-order-bar__menu-icon">ğŸ—‘ï¸</span>
        <span>Delete</span>
      </button>
    </div>
  }
</div>
